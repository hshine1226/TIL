(window.webpackJsonp=window.webpackJsonp||[]).push([[68],{429:function(t,s,a){"use strict";a.r(s);var n=a(25),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"search-controller"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#search-controller"}},[t._v("#")]),t._v(" Search Controller")]),t._v(" "),a("h2",{attrs:{id:"form을-통해-url에-정보-추가하기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#form을-통해-url에-정보-추가하기"}},[t._v("#")]),t._v(" form을 통해 url에 정보 추가하기")]),t._v(" "),a("p",[t._v("Controller를 시작하기 전에 header 파일을 조금 수정해보자.")]),t._v(" "),a("div",{staticClass:"language-pug extra-class"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// views/partials/header.pug")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("header"),a("span",{pre:!0,attrs:{class:"token attr-class"}},[t._v(".header")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token attr-class"}},[t._v(".header__column")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("home")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("i"),a("span",{pre:!0,attrs:{class:"token attr-class"}},[t._v(".fab")]),a("span",{pre:!0,attrs:{class:"token attr-class"}},[t._v(".fa-youtube")])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token attr-class"}},[t._v(".header__column")])]),t._v(" \n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("form"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("action")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("search")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("method")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"get"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("input"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("placeholder")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Search by term..."')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("name")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"term"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token attr-class"}},[t._v(".header__column")])]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("ul")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("li")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("join")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Join")]),t._v("\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("li")]),t._v("\n\t\t\t\t"),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("a"),a("span",{pre:!0,attrs:{class:"token attributes"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("href")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[t._v("routes"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("login")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")])])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Log Infalsefalse")]),t._v("\n")])])]),a("p",[t._v("form의 action은 routes의 search 경로로 설정하고, method는 get방식으로 설정한다.")]),t._v(" "),a("p",[t._v("컨트롤러가 query에 접근하려면 method가 get이어야 한다.")]),t._v(" "),a("p",[t._v("Get method는 url에 정보를 추가해준다.")]),t._v(" "),a("p",[t._v("또한 input으로 넘겨줄 값의 이름이 필요하므로 name을 term으로 지정해준다.")]),t._v(" "),a("h2",{attrs:{id:"페이지에서-변수-추가하기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#페이지에서-변수-추가하기"}},[t._v("#")]),t._v(" 페이지에서 변수 추가하기")]),t._v(" "),a("p",[t._v("이제 search 페이지를 수정해야한다.")]),t._v(" "),a("div",{staticClass:"language-pug extra-class"},[a("pre",{pre:!0,attrs:{class:"language-pug"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// views/search.pug")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("extends layouts/main")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("block content")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token attr-class"}},[t._v(".search__header")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[t._v("h3")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token plain-text"}},[t._v("Searching for: #{searchingBy}")]),t._v("\n")])])]),a("p",[t._v("h3 태그를 추가하고 searchingBy 변수의 값을 보여줄 것이다.")]),t._v(" "),a("h2",{attrs:{id:"컨트롤러에서-query-받아오기"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#컨트롤러에서-query-받아오기"}},[t._v("#")]),t._v(" 컨트롤러에서 query 받아오기")]),t._v(" "),a("p",[t._v("아직은 searchingBy의 값이 없기 때문에 Controller를 수정해야 한다.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// controllers/videoController.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//...")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("search")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" res")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    query"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" term"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" searchingBy "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// const searchingBy = req.query.term;")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// searchingBy를 template variable로 보내준다.")]),t._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"search"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" pageTitle"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Search"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" searchingBy "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("p",[t._v("아래는 searchingBy를 받아오는 문법(ES6 전후)의 차이이다.")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ES6 이전의 문법")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" searchingBy "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("term\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ES6 문법")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    query"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" term"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" searchingBy "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);